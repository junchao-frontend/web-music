(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5dad2982"],{"2cba":function(t,s,e){"use strict";e("b76a")},"45b7":function(t,s,e){"use strict";e("687e")},"687e":function(t,s,e){},9639:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"my-container"},[e("van-cell",{staticClass:"header"},[e("div",{attrs:{slot:"icon"},slot:"icon"},[e("van-image",{attrs:{round:"",fit:"cover",width:"70",height:"70",src:t.userAvatar}})],1),e("div",{attrs:{slot:"title"},slot:"title"},[t._v(" "+t._s(t.userName)+" ")])]),e("div",{staticClass:"my-icon"},[e("div",{staticClass:"icon-item"},[e("van-icon",{attrs:{name:"music"}}),e("span",[t._v("本地下载")])],1),e("div",{staticClass:"icon-item"},[e("van-icon",{attrs:{name:"play-circle"}}),e("span",[t._v("最近播放")])],1),e("div",{staticClass:"icon-item"},[e("van-icon",{attrs:{name:"shopping-cart"}}),e("span",[t._v("绿胶会员")])],1),e("div",{staticClass:"icon-item"},[e("van-icon",{attrs:{name:"friends"}}),e("span",[t._v("我的好友")])],1),e("div",{staticClass:"icon-item"},[e("van-icon",{attrs:{name:"good-job"}}),e("span",[t._v("收藏和赞")])],1),e("div",{staticClass:"icon-item"},[e("van-icon",{attrs:{name:"point-gift"}}),e("span",[t._v("获得礼物")])],1)]),e("van-cell",{staticClass:"love-list",attrs:{icon:t.loveList.coverImgUrl,title:t.loveList.name,value:t.loveList.trackCount+"首"},on:{click:function(s){return t.openLovelist()}}}),e("div",{staticClass:"list-group"},[e("van-cell-group",t._l(t.otherlist,(function(s,i){return e("van-cell",{key:i,staticClass:"other-list",attrs:{icon:s.coverImgUrl,title:s.name,value:s.trackCount+"首"},on:{click:function(e){return t.openPlaylist(s)}}})})),1)],1),e("van-popup",{staticClass:"close-sheet",style:{width:"100%",height:" 100%"},attrs:{closeable:"","close-icon-position":"top-left","get-container":"body",position:"right"},on:{"click-close-icon":function(s){return t.closeSheet()}},model:{value:t.palylistshow,callback:function(s){t.palylistshow=s},expression:"palylistshow"}},[e("playList",{attrs:{playList:t.listItem}})],1)],1)},a=[],o=e("fd6a"),n=(e("28fd"),e("a9b6"),e("b775")),c=function(t){return Object(n["a"])({method:"GET",url:"/user/detail",params:t})},l=function(t){return Object(n["a"])({method:"GET",url:"/user/playlist",params:t})},r=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sheet-container"},[e("div",{staticClass:"sheet-header"},[e("div",{staticClass:"sheet"},[t._v("歌单")]),e("van-cell",[e("div",{staticClass:"sheetImg",attrs:{slot:"icon"},slot:"icon"},[e("van-image",{attrs:{width:"85",height:"85",src:t.playList.coverImgUrl}})],1),e("div",{staticClass:"sheetName",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.playList.name))]),e("div",{staticClass:"creatName",attrs:{slot:"title"},slot:"title"},[e("van-image",{staticStyle:{"margin-right":"13px","margin-left":"13px"},attrs:{round:"",width:"25",height:"25",src:t.sheetCreator.avatarUrl}}),t._v(" "+t._s(t.sheetCreator.nickname))],1)])],1),e("van-cell-group",t._l(t.listItem,(function(s,i){return e("van-cell",{key:i,attrs:{label:s.ar[0].name+"-"+s.al.name,title:i+1+" _"+s.name},on:{click:function(s){return t.openListMusic(i)}}},[e("van-icon",{attrs:{name:"music-o"}})],1)})),1)],1)},u=[],m=e("ed3b"),h=(e("e186"),e("c284"),function(t){return Object(n["a"])({method:"GET",url:"/playlist/detail",params:t})}),d={props:{playList:{type:Object,require:!0}},components:{},data:function(){return{listItem:[],musicshow:!1,musicBoxShow:!1,musicItem:{},sheetInfo:{},sheetCreator:{}}},computed:{},created:function(){},mounted:function(){this.sheetCreator=this.playList.creator,this.showList()},methods:{showList:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function s(){var e,i,a,o,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t.$store.commit("statusModule/showLoading"),e=t.playList.id,i={id:e,cookie:sessionStorage.getItem("cookie")},s.next=5,h(i);case 5:a=s.sent,o=a.data,t.listItem=o.playlist.tracks,n=[],t.listItem.forEach((function(t){n.push(t)})),t.$store.commit("musicModule/setSongs",n),t.$store.commit("statusModule/hideLoading");case 12:case"end":return s.stop()}}),s)})))()},openListMusic:function(t){this.$store.commit("musicModule/setSongindex",t),this.$store.commit("statusModule/handlemusic")}},watch:{playList:{handler:function(t,s){this.playList=t,this.sheetCreator=t.creator,this.showList()},deep:!0,immediate:!1}}},v=d,p=(e("2cba"),e("45b7"),e("cba8")),f=Object(p["a"])(v,r,u,!1,null,"ccd48334",null),y=f.exports,g=e("7736"),b={components:{playList:y},data:function(){return{loveList:{},otherlist:[],palylistshow:!1,listItem:""}},computed:Object(o["a"])({},Object(g["b"])({userName:"userModule/GET_NAME",userAvatar:"userModule/GET_AVATAR"})),created:function(){},mounted:function(){this.initData()},methods:{initData:function(){var t=this,s=[],e={uid:sessionStorage.getItem("id")};c(e).then((function(s){var e=s.data.profile;t.$store.commit("userModule/SET_NAME",e.nickname),t.$store.commit("userModule/SET_AVATAR",e.avatarUrl)})),l(e).then((function(e){s=e.data.playlist,t.loveList=s[0],t.otherlist=s.filter((function(t,s){return s>0}))}))},openPlaylist:function(t){this.$store.commit("statusModule/hideLayout"),this.listItem=t,this.palylistshow=!0},openLovelist:function(){this.$store.commit("statusModule/hideLayout"),this.palylistshow=!0,this.$store.state.islayoutShow=!1,this.listItem=this.loveList},closeSheet:function(){this.$store.state.islayoutShow=!0,this.$store.commit("statusModule/showLayout")}}},w=b,L=(e("dc87"),Object(p["a"])(w,i,a,!1,null,"6b29e936",null));s["default"]=L.exports},b76a:function(t,s,e){},bf99:function(t,s,e){},dc87:function(t,s,e){"use strict";e("bf99")}}]);
//# sourceMappingURL=chunk-5dad2982.44305b4c.js.map