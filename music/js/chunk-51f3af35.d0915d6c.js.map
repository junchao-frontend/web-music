{"version":3,"sources":["webpack:///./src/views/layout/index.vue?562d","webpack:///./src/components/music-box/index.vue?a6b9","webpack:///./src/api/music.js","webpack:///src/components/music-box/index.vue","webpack:///./src/components/music-box/index.vue?c077","webpack:///./src/components/music-box/index.vue","webpack:///src/views/layout/index.vue","webpack:///./src/views/layout/index.vue?5343","webpack:///./src/views/layout/index.vue","webpack:///./src/components/music-box/changzhen.png","webpack:///./src/views/layout/index.vue?3a9f","webpack:///./src/components/music-box/index.vue?dff3"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","musicshow","attrs","on","$event","closeMusic","_e","style","model","value","callback","$$v","active","expression","_v","staticRenderFns","backgroundColor","_t","_s","musicName","musicCreator","enlargeBox","playStatus","animation","musicBgi","directives","name","rawName","FrontMusic","playMusic","nextMusic","ref","musicUrl","getMusicUrl","params","request","method","url","props","type","Boolean","require","components","data","openMusic","musicData","computed","test","created","mounted","initMusicData","getSongindex","getSongUrl","methods","songsArr","currentIndex","ar","al","picUrl","$store","commit","downBox","$refs","audio","pause","play","$toast","success","musicId","id","watch","handler","console","log","immediate","component","musicBox","layoutShow","handleHeight","handle","transform","module","exports"],"mappings":"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","file":"js/chunk-51f3af35.d0915d6c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout-container\"},[_c('router-view'),(_vm.musicBoxShow)?_c('musicBox',{staticClass:\"musci-box\",class:_vm.musicshow? '' : 'test2',attrs:{\"musicshow\":_vm.musicshow}},[(_vm.musicshow)?_c('van-icon',{staticClass:\"btn\",attrs:{\"name\":\"arrow-down\"},on:{\"click\":function($event){return _vm.closeMusic()}}}):_vm._e()],1):_vm._e(),_c('van-tabbar',{style:(_vm.handleHeight),attrs:{\"route\":\"\"},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('van-tabbar-item',{attrs:{\"icon\":\"search\",\"to\":\"/\"}},[_vm._v(\"发现\")]),_c('van-tabbar-item',{attrs:{\"icon\":\"setting-o\",\"to\":\"/podcast\"}},[_vm._v(\"简介\")]),_c('van-tabbar-item',{attrs:{\"icon\":\"music-o\",\"to\":\"/my\"}},[_vm._v(\"我的\")]),_c('van-tabbar-item',{attrs:{\"icon\":\"friends-o\",\"to\":\"/follow\"}},[_vm._v(\"关注\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"music-container\",style:(_vm.musicshow? {backgroundColor:'white'} : {backgroundColor:'rgba(255, 255, 255,.8)'})},[_c('div',[_vm._t(\"default\")],2),_c('div',{staticClass:\"wrap\",class:_vm.musicshow? '': 'wrap-coll'},[_c('div',{staticClass:\"header\",class:_vm.musicshow? '': 'header-coll'},[_c('div',{staticClass:\"music-title\"},[_vm._v(_vm._s(_vm.musicName))]),_c('div',{staticClass:\"music-creat\"},[_vm._v(_vm._s(_vm.musicCreator))])]),_c('div',{staticClass:\"music-logo\",class:_vm.musicshow? '': 'music-logo-coll'},[_c('div',{staticClass:\"image-wrap\",class:_vm.musicshow? '': 'image-wrap-coll',on:{\"click\":function($event){return _vm.enlargeBox()}}},[_c('van-image',{staticClass:\"vanImge\",class:_vm.musicshow? '': 'vanImge-coll',style:(_vm.playStatus? '' : {animation: 'unset'}),attrs:{\"round\":\"\",\"src\":_vm.musicBgi}})],1)]),_c('div',{staticClass:\"changji\",class:_vm.musicshow? '': 'changji-coll'},[_c('img',{staticClass:\"changji-img\",class:_vm.playStatus ? 'changji-run' : '',attrs:{\"src\":require(\"./changzhen.png\")}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.musicshow),expression:\"musicshow\"}],staticClass:\"audio\",class:_vm.musicshow? 'audio-coll': ''},[_c('div',{staticClass:\"audio-item\"},[_c('div',{staticClass:\"love-music\"}),_c('div',{staticClass:\"front-music\",on:{\"click\":function($event){return _vm.FrontMusic()}}},[_c('i',{staticClass:\"iconfont icon-shangyiqu\"})]),_c('div',{staticClass:\"play-suspend\",on:{\"click\":function($event){return _vm.playMusic()}}},[_c('i',{class:_vm.playStatus ? 'iconfont icon-zanting' : 'iconfont icon-bofang'})]),_c('div',{staticClass:\"next-music\",on:{\"click\":function($event){return _vm.nextMusic()}}},[_c('i',{staticClass:\"iconfont icon-xiayiqu\"})])]),_c('audio',{ref:\"audio\",attrs:{\"src\":_vm.musicUrl,\"autoplay\":true,\"loop\":true}},[_vm._v(\" Your browser does not support the audio element. \")])]),_c('div',{staticClass:\"music-operation\",class:_vm.musicshow ?'music-operation-coll': ''},[_c('div',{staticClass:\"music-operation-name\"},[_vm._v(_vm._s(_vm.musicName)+\"-\")]),_c('div',{staticClass:\"music-operation-creat\"},[_vm._v(_vm._s(_vm.musicCreator))]),_c('div',{staticClass:\"music-operation-icon\",on:{\"click\":function($event){return _vm.playMusic()}}},[_c('i',{class:_vm.playStatus ? 'iconfont icon-zanting' : 'iconfont icon-bofang'})])])]),_c('div',{staticClass:\"overlay\",class:_vm.musicshow ? '' : 'closemusic',style:(_vm.test)})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/utils/request'\r\n// 获取音乐url\r\nexport const getMusicUrl = params => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/song/url',\r\n    // data用来设置POST请求体\r\n    params\r\n  })\r\n}\r\n","// 点击单曲之后的页面\r\n<template>\r\n  <div class='music-container' :style=\"musicshow? {backgroundColor:'white'} : {backgroundColor:'rgba(255, 255, 255,.8)'}\">\r\n    <div><slot></slot></div>\r\n    <div class=\"wrap\" :class=\"musicshow? '': 'wrap-coll'\">\r\n      <div class=\"header\" :class=\"musicshow? '': 'header-coll'\">\r\n        <div class=\"music-title\">{{musicName}}</div>\r\n        <div class=\"music-creat\">{{musicCreator}}</div>\r\n      </div>\r\n      <div class=\"music-logo\" :class=\"musicshow? '': 'music-logo-coll'\">\r\n        <div @click=\"enlargeBox()\" class=\"image-wrap\" :class=\"musicshow? '': 'image-wrap-coll'\" >\r\n          <van-image\r\n          :style=\"playStatus? '' : {animation: 'unset'}\"\r\n          class=\"vanImge\"\r\n          :class=\"musicshow? '': 'vanImge-coll'\"\r\n          round\r\n          :src=\"musicBgi \"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div class=\"changji\" :class=\"musicshow? '': 'changji-coll'\">\r\n        <img\r\n        class=\"changji-img\"\r\n        :class=\"playStatus ? 'changji-run' : ''\"\r\n        src=\"./changzhen.png\">\r\n      </div>\r\n      <div v-show=\"musicshow\" class=\"audio\" :class=\"musicshow? 'audio-coll': ''\" >\r\n        <!-- <van-progress inactive :percentage=\"50\" /> -->\r\n        <div class=\"audio-item\">\r\n          <div class=\"love-music\">\r\n          <!-- <van-icon name=\"like-o\" /> -->\r\n          </div>\r\n          <div @click=\"FrontMusic()\" class=\"front-music\">\r\n            <i class=\"iconfont icon-shangyiqu\"></i>\r\n          </div>\r\n          <div  @click=\"playMusic()\" class=\"play-suspend\">\r\n            <i :class=\"playStatus ? 'iconfont icon-zanting' : 'iconfont icon-bofang' \"></i>\r\n          </div>\r\n          <div @click=\"nextMusic()\" class=\"next-music\">\r\n            <i class=\"iconfont icon-xiayiqu\"></i>\r\n          </div>\r\n       </div>\r\n       <audio :src=\"musicUrl\" :autoplay=\"true\" :loop=\"true\" ref=\"audio\">\r\n        Your browser does not support the audio element.\r\n      </audio>\r\n      </div>\r\n      <div class=\"music-operation\" :class=\"musicshow ?'music-operation-coll': '' \">\r\n        <div class=\"music-operation-name\">{{musicName }}-</div>\r\n        <div class=\"music-operation-creat\">{{musicCreator}}</div>\r\n        <div @click=\"playMusic()\" class=\"music-operation-icon\">\r\n          <i :class=\"playStatus ? 'iconfont icon-zanting' : 'iconfont icon-bofang' \"></i>\r\n          </div>\r\n      </div>\r\n    </div>\r\n      <div class=\"overlay\" :class=\"musicshow ? '' : 'closemusic'\" :style=\"test \"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapState } from 'vuex'\r\nimport { getMusicUrl } from '@/api/music.js'\r\nexport default {\r\n  props: {\r\n    musicshow: {\r\n      type: Boolean,\r\n      require: true\r\n    }\r\n  },\r\n  components: {},\r\n  data () {\r\n    return {\r\n      musicUrl: '',\r\n      openMusic: true,\r\n      musicData: '', // 音乐数据\r\n      playStatus: true, // 播放状态\r\n      musicName: '',\r\n      musicCreator: '',\r\n      musicBgi: ''\r\n      // currentId: '' // 当前歌曲index\r\n    }\r\n  },\r\n  computed: {\r\n    test () {\r\n      return ' backgroundImage: url(' + this.musicBgi + ') '\r\n    },\r\n    ...mapState(\r\n      {\r\n        musicItem: state => state.musicModule.musicItem,\r\n        songIndex: state => state.musicModule.songIndex,\r\n        songsArr: state => state.musicModule.songsArr\r\n      }\r\n    ),\r\n    ...mapGetters({\r\n      getSongindex: 'musicModule/getSongindex'\r\n    })\r\n  },\r\n  created () {},\r\n  mounted () {\r\n    this.initMusicData(this.getSongindex)\r\n    this.getSongUrl(this.getSongindex)\r\n  },\r\n  methods: {\r\n    initMusicData (currentIndex) {\r\n      // console.log(currentIndex, 'ys')\r\n      // this.currentId = this.songIndex // 用currentId 接受 当前歌曲index\r\n      this.playStatus = true\r\n      this.musicData = this.songsArr[currentIndex] // 用musicData接受vuex中相对于缩印的数据\r\n      this.musicName = this.musicData.name\r\n      this.musicCreator = this.musicData.ar[0].name\r\n      this.musicBgi = this.musicData.al.picUrl\r\n    },\r\n    enlargeBox () {\r\n      this.$store.commit('statusModule/handlemusicshow')\r\n    },\r\n    async getSongUrl (currentIndex) {\r\n      var songid = this.songsArr[currentIndex].id\r\n      // console.log(songid, 'songid')\r\n      var params = {\r\n        id: songid\r\n      }\r\n      const { data } = await getMusicUrl(params)\r\n      this.musicUrl = data.data[0].url\r\n    },\r\n    downBox () {\r\n      this.openMusic = false\r\n    },\r\n    // 播放歌曲\r\n    playMusic () {\r\n      if (this.playStatus) {\r\n        this.playStatus = false\r\n        this.$refs.audio.pause()\r\n      } else {\r\n        this.playStatus = true\r\n        this.$refs.audio.play()\r\n      }\r\n    },\r\n    // 上一曲\r\n    FrontMusic () {\r\n      if (this.getSongindex === 0) {\r\n        this.$toast.success('登录成功')\r\n      } else {\r\n        var musicId = this.songsArr[this.getSongindex - 1].id\r\n        var params = {\r\n          id: musicId\r\n        }\r\n        getMusicUrl(params).then(res => {\r\n        // console.log(res, 'res')\r\n          this.musicUrl = res.data.data[0].url\r\n          this.musicBgi = this.songsArr[this.getSongindex - 1].al.picUrl\r\n          this.musicName = this.songsArr[this.getSongindex - 1].name\r\n          this.musicCreator = this.songsArr[this.getSongindex - 1].ar[0].name\r\n          this.$store.state.musicModule.songIndex -= 1\r\n        })\r\n      }\r\n    },\r\n    // 下一曲\r\n    nextMusic () {\r\n      var musicId = this.songsArr[this.getSongindex + 1].id\r\n      var params = {\r\n        id: musicId\r\n      }\r\n      getMusicUrl(params).then(res => {\r\n        // console.log(res, 'res')\r\n        this.musicUrl = res.data.data[0].url\r\n        this.musicBgi = this.songsArr[this.getSongindex + 1].al.picUrl\r\n        this.musicName = this.songsArr[this.getSongindex + 1].name\r\n        this.musicCreator = this.songsArr[this.getSongindex + 1].ar[0].name\r\n        this.$store.state.musicModule.songIndex += 1\r\n      })\r\n    }\r\n  },\r\n  watch: {\r\n    // musicItem (newvalue) {\r\n    //   // console.log(newvalue)\r\n    //   this.musicData = newvalue\r\n    //   this.getSongUrl()\r\n    //   this.musicName = this.musicData.name\r\n    //   this.musicCreator = this.musicData.ar[0].name\r\n    //   this.musicBgi = this.musicData.al.picUrl\r\n    //   this.playStatus = true\r\n    // }\r\n    // 监听歌曲的index\r\n    getSongindex: {\r\n      handler () {\r\n        console.log(this.getSongindex)\r\n        this.initMusicData(this.getSongindex)\r\n        this.getSongUrl(this.getSongindex)\r\n      },\r\n      immediate: true\r\n    }\r\n    // getSongindex () {\r\n    //   console.log(this.getSongindex)\r\n    // }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@mixin transitions {\r\n\r\n  transition:  all 0.5s ease;\r\n}\r\n@keyframes change {\r\n  0%{\r\n    transform: rotate(0deg); // 初始状态\r\n  }\r\n  100%{\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n.music-container{\r\n  height: 100vh;\r\n  // background-color: white;\r\n  z-index: 2220;\r\n  .wrap{\r\n    @include transitions;\r\n    overflow: hidden;\r\n  }\r\n  .header{\r\n    float: left;\r\n    width: 100%;\r\n    margin-top:30px;\r\n    &-coll{\r\n      display: none;\r\n    }\r\n  }\r\n  .changji{\r\n    position: fixed;\r\n    top: 15%;\r\n    left: 50%;\r\n    margin-left: -25px;\r\n    // border: 1px solid red;\r\n    // background: url('./changzhen.png');\r\n    // width: 50px;\r\n    // height: 50px;\r\n    // background-color: rgb(255, 255, 255);\r\n    opacity: 1;\r\n    transition: width 0s  ease 0.5s;\r\n    transition: opacity 0s ease 0.5s;\r\n\r\n    &-img{\r\n      width: 150px;\r\n      height: 150px;\r\n      transition: transform 0.5s ease;\r\n      -webkit-transform-origin:18px 18px;\r\n    }\r\n    &-run{\r\n      // transform-origin:0px,0px ;\r\n      // transform-origin:18px,18px ;\r\n      // -moz-transform-origin: 18px 18px;\r\n      // -o-transform-origin:18px 18px;\r\n      transform:rotate(20deg);\r\n      -ms-transform:rotate(20deg); /* IE 9 */\r\n      -moz-transform:rotate(20deg); /* Firefox */\r\n      -webkit-transform:rotate(20deg); /* Safari 和 Chrome */\r\n      -o-transform:rotate(20deg); /* Opera */\r\n    }\r\n    &-coll{\r\n      height: 0;\r\n      opacity: 0;\r\n      transition: opacity 0s ease;\r\n    }\r\n  }\r\n  .music-operation{\r\n    overflow: hidden;\r\n    margin-left: 65px;\r\n    height: 40px;\r\n    width: 320px;\r\n    // background-color: violet;\r\n    transition: opacity 0s ease-in 0.4s;\r\n    opacity: 1;\r\n    display: flex;\r\n    // float: left;\r\n    &-coll{\r\n      opacity: 0;\r\n    }\r\n    &-name{\r\n      // float: left;\r\n      display: flex;\r\n      align-items: center;\r\n      font-weight: bold;\r\n      font-size: 14px;\r\n    }\r\n    &-creat{\r\n      margin-left: 3px;\r\n      display: flex;\r\n      align-items: center;\r\n      font-size: 8px;\r\n    }\r\n    &-icon{\r\n      margin-left: 50px;\r\n      display: flex;\r\n      align-items: center;\r\n      .iconfont{\r\n        font-size: 23px;\r\n        color: #131217;\r\n      }\r\n    }\r\n  }\r\n  .music-logo{\r\n    margin-top: 90px;\r\n    transition: all 0.5s ease-in;\r\n    float: left;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    height: 300px;\r\n    background-image: cover;\r\n    background-position: center;\r\n    .image-wrap{\r\n      transition: all 0.5s ease-in;\r\n      background-image: url('./music.png');\r\n      background-repeat: no-repeat;\r\n      background-size: 100% 100%;\r\n      width: 290px;\r\n      height: 290px;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      &-coll{\r\n        height: 35px;\r\n        width: 35px;\r\n      }\r\n    }\r\n    &-coll{\r\n      height: 100%;\r\n      width: 50px;\r\n      margin: 0;\r\n      // order: 1;\r\n      // width:auto;\r\n      // height: 100%;\r\n    }\r\n    .vanImge{\r\n      animation: change 8.2s linear infinite;\r\n      transition: all 0.6s ease-out;\r\n      width: 155px;\r\n      height: 155px;\r\n      &-coll{\r\n        width: 30px;\r\n        height: 30px;\r\n      }\r\n    }\r\n  }\r\n  .music-title{\r\n    @include transitions;\r\n    color: white;\r\n    width: 100%;\r\n    text-align: center;\r\n    font-size: 15px;\r\n  }\r\n  .music-creat{\r\n    @include transitions;\r\n    color: white;\r\n    margin-top: 5px;\r\n    text-align: center;\r\n    font-size: 10px;\r\n  }\r\n  .audio{\r\n    margin: 0 auto;\r\n    margin-top: 40px;\r\n    float: left;\r\n    width: 100%;\r\n    z-index: 9999 !important;\r\n    .audio-item{\r\n      box-sizing: border-box;\r\n      margin: 0 auto;\r\n      width: 100px;\r\n      margin-top: 15px;\r\n      display: flex;\r\n      justify-content:center;\r\n      .front-music{\r\n        .iconfont{\r\n          font-size: 23px;\r\n        }\r\n        color: whitesmoke;\r\n        cursor: pointer;\r\n        // color: white;\r\n        // font-size: 26px;\r\n      }\r\n      .play-suspend{\r\n        margin: 0 25px;\r\n        cursor: pointer;\r\n        color: whitesmoke;\r\n        .iconfont{\r\n          font-size: 40px;\r\n        }\r\n      }\r\n      .next-music{\r\n        cursor: pointer;\r\n        // margin-left: 20px;\r\n        color:whitesmoke;\r\n        .iconfont{\r\n          font-size: 23px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .overlay{\r\n    z-index: -1;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    transition: opacity 1s ease;\r\n    // -webkit-filter:blur(10px);\r\n    // -moz-filter:blur(10px);\r\n    // -o-filter:blur(10px);\r\n    // -ms-filter:blur(10px);\r\n    filter:blur(7px);\r\n    opacity: 0.9;\r\n    // background-image: url('http://p4.music.126.net/BMPeBg8b6wRUofmMcfQ--g==/109951165029361219.jpg');\r\n    background-position: center;\r\n    background-size: cover;\r\n    background-blend-mode: darken;\r\n    width: 100vw;\r\n    height: 120vh;\r\n  }\r\n  .closemusic{\r\n    opacity: 0;\r\n  }\r\n  /deep/ .van-toast{\r\n    z-index: 9999 !important;\r\n  }\r\n  /deep/ .van-toast .van-toast--middle .van-toast--success{\r\n    z-index: 9999 !important;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4c5f4c4c&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=4c5f4c4c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c5f4c4c\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"layout-container\">\r\n    <router-view />\r\n    <musicBox\r\n      v-if=\"musicBoxShow\"\r\n      :class=\"musicshow? '' : 'test2'\"\r\n      class=\"musci-box\"\r\n      :musicshow=\"musicshow\" >\r\n      <van-icon class=\"btn\" name=\"arrow-down\" v-if=\"musicshow\" @click=\"closeMusic()\" />\r\n    </musicBox>\r\n    <van-tabbar :style=\"handleHeight\" v-model=\"active\" route>\r\n    <van-tabbar-item icon=\"search\" to='/'>发现</van-tabbar-item>\r\n    <van-tabbar-item icon=\"setting-o\" to='/podcast'>简介</van-tabbar-item>\r\n    <van-tabbar-item icon=\"music-o\" to='/my'>我的</van-tabbar-item>\r\n    <van-tabbar-item icon=\"friends-o\" to='/follow'>关注</van-tabbar-item>\r\n    </van-tabbar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport musicBox from '../../components/music-box/'\r\nimport { mapGetters, mapState } from 'vuex'\r\nexport default {\r\n  components: {\r\n    musicBox\r\n  },\r\n  data () {\r\n    return {\r\n      active: 0,\r\n      layoutShow: true\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters({ LAYOUTSHOW: 'statusModule/GET_LAYOUTSHOW' }),\r\n    ...mapState(\r\n      {\r\n        LOADING: state => state.statusModule.LOADING,\r\n        musicBoxShow: state => state.statusModule.musicBoxShow,\r\n        musicshow: state => state.statusModule.musicshow\r\n      }\r\n    ),\r\n    handleHeight () {\r\n      const handle = this.LAYOUTSHOW === true\r\n      if (handle) {\r\n        return ''\r\n      } else {\r\n        return {\r\n          transform: 'translateY(1.4rem)'\r\n        }\r\n      }\r\n    }\r\n  },\r\n  created () {},\r\n  mounted () {\r\n    // this.layoutShow = this.$store.state.islayoutShow\r\n  },\r\n  methods: {\r\n    closeMusic () {\r\n      this.$store.commit('statusModule/hidemusicshow')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.layout-container{\r\n  overflow: scroll;\r\n.van-tabbar{\r\n   z-index: 6000 !important;\r\n   transition: transform .3s ease-in;\r\n   overflow: hidden;\r\n}\r\n}\r\n.musci-box{\r\n  transition: height 0.5s ease-in;\r\n  position: fixed;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100% !important;\r\n}\r\n.van-icon-arrow-down{\r\n  color: white;\r\n}\r\n.test2{\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  overflow: hidden;\r\n  height: 90px !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=c8301174&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=c8301174&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c8301174\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/changzhen.76313e64.png\";","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=c8301174&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=4c5f4c4c&lang=scss&scoped=true&\""],"sourceRoot":""}