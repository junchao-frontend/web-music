(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51f3af35"],{"159f":function(s,t,i){},"162e":function(s,t,i){"use strict";i.r(t);var n=function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("div",{staticClass:"layout-container"},[i("router-view"),s.musicBoxShow?i("musicBox",{staticClass:"musci-box",class:s.musicshow?"":"test2",attrs:{musicshow:s.musicshow}},[s.musicshow?i("van-icon",{staticClass:"btn",attrs:{name:"arrow-down"},on:{click:function(t){return s.closeMusic()}}}):s._e()],1):s._e(),i("van-tabbar",{style:s.handleHeight,attrs:{route:""},model:{value:s.active,callback:function(t){s.active=t},expression:"active"}},[i("van-tabbar-item",{attrs:{icon:"search",to:"/"}},[s._v("发现")]),i("van-tabbar-item",{attrs:{icon:"setting-o",to:"/podcast"}},[s._v("简介")]),i("van-tabbar-item",{attrs:{icon:"music-o",to:"/my"}},[s._v("我的")]),i("van-tabbar-item",{attrs:{icon:"friends-o",to:"/follow"}},[s._v("关注")])],1)],1)},a=[],c=i("fd6a"),o=function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"music-container",style:s.musicshow?{backgroundColor:"white"}:{backgroundColor:"rgba(255, 255, 255,.8)"}},[n("div",[s._t("default")],2),n("div",{staticClass:"wrap",class:s.musicshow?"":"wrap-coll"},[n("div",{staticClass:"header",class:s.musicshow?"":"header-coll"},[n("div",{staticClass:"music-title"},[s._v(s._s(s.musicName))]),n("div",{staticClass:"music-creat"},[s._v(s._s(s.musicCreator))])]),n("div",{staticClass:"music-logo",class:s.musicshow?"":"music-logo-coll"},[n("div",{staticClass:"image-wrap",class:s.musicshow?"":"image-wrap-coll",on:{click:function(t){return s.enlargeBox()}}},[n("van-image",{staticClass:"vanImge",class:s.musicshow?"":"vanImge-coll",style:s.playStatus?"":{animation:"unset"},attrs:{round:"",src:s.musicBgi}})],1)]),n("div",{staticClass:"changji",class:s.musicshow?"":"changji-coll"},[n("img",{staticClass:"changji-img",class:s.playStatus?"changji-run":"",attrs:{src:i("1cb8")}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:s.musicshow,expression:"musicshow"}],staticClass:"audio",class:s.musicshow?"audio-coll":""},[n("div",{staticClass:"audio-item"},[n("div",{staticClass:"love-music"}),n("div",{staticClass:"front-music",on:{click:function(t){return s.FrontMusic()}}},[n("i",{staticClass:"iconfont icon-shangyiqu"})]),n("div",{staticClass:"play-suspend",on:{click:function(t){return s.playMusic()}}},[n("i",{class:s.playStatus?"iconfont icon-zanting":"iconfont icon-bofang"})]),n("div",{staticClass:"next-music",on:{click:function(t){return s.nextMusic()}}},[n("i",{staticClass:"iconfont icon-xiayiqu"})])]),n("audio",{ref:"audio",attrs:{src:s.musicUrl,autoplay:!0,loop:!0}},[s._v(" Your browser does not support the audio element. ")])]),n("div",{staticClass:"music-operation",class:s.musicshow?"music-operation-coll":""},[n("div",{staticClass:"music-operation-name"},[s._v(s._s(s.musicName)+"-")]),n("div",{staticClass:"music-operation-creat"},[s._v(s._s(s.musicCreator))]),n("div",{staticClass:"music-operation-icon",on:{click:function(t){return s.playMusic()}}},[n("i",{class:s.playStatus?"iconfont icon-zanting":"iconfont icon-bofang"})])])]),n("div",{staticClass:"overlay",class:s.musicshow?"":"closemusic",style:s.test})])},e=[],u=i("ed3b"),r=(i("e186"),i("3e22"),i("7736")),l=i("b775"),m=function(s){return Object(l["a"])({method:"GET",url:"/song/url",params:s})},d={props:{musicshow:{type:Boolean,require:!0}},components:{},data:function(){return{musicUrl:"",openMusic:!0,musicData:"",playStatus:!0,musicName:"",musicCreator:"",musicBgi:""}},computed:Object(c["a"])(Object(c["a"])({test:function(){return" backgroundImage: url("+this.musicBgi+") "}},Object(r["c"])({musicItem:function(s){return s.musicModule.musicItem},songIndex:function(s){return s.musicModule.songIndex},songsArr:function(s){return s.musicModule.songsArr}})),Object(r["b"])({getSongindex:"musicModule/getSongindex"})),created:function(){},mounted:function(){this.initMusicData(this.getSongindex),this.getSongUrl(this.getSongindex)},methods:{initMusicData:function(s){this.playStatus=!0,this.musicData=this.songsArr[s],this.musicName=this.musicData.name,this.musicCreator=this.musicData.ar[0].name,this.musicBgi=this.musicData.al.picUrl},enlargeBox:function(){this.$store.commit("statusModule/handlemusicshow")},getSongUrl:function(s){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function i(){var n,a,c,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=t.songsArr[s].id,a={id:n},i.next=4,m(a);case 4:c=i.sent,o=c.data,t.musicUrl=o.data[0].url;case 7:case"end":return i.stop()}}),i)})))()},downBox:function(){this.openMusic=!1},playMusic:function(){this.playStatus?(this.playStatus=!1,this.$refs.audio.pause()):(this.playStatus=!0,this.$refs.audio.play())},FrontMusic:function(){var s=this;if(0===this.getSongindex)this.$toast.success("登录成功");else{var t=this.songsArr[this.getSongindex-1].id,i={id:t};m(i).then((function(t){s.musicUrl=t.data.data[0].url,s.musicBgi=s.songsArr[s.getSongindex-1].al.picUrl,s.musicName=s.songsArr[s.getSongindex-1].name,s.musicCreator=s.songsArr[s.getSongindex-1].ar[0].name,s.$store.state.musicModule.songIndex-=1}))}},nextMusic:function(){var s=this,t=this.songsArr[this.getSongindex+1].id,i={id:t};m(i).then((function(t){s.musicUrl=t.data.data[0].url,s.musicBgi=s.songsArr[s.getSongindex+1].al.picUrl,s.musicName=s.songsArr[s.getSongindex+1].name,s.musicCreator=s.songsArr[s.getSongindex+1].ar[0].name,s.$store.state.musicModule.songIndex+=1}))}},watch:{getSongindex:{handler:function(){console.log(this.getSongindex),this.initMusicData(this.getSongindex),this.getSongUrl(this.getSongindex)},immediate:!0}}},g=d,h=(i("cf89"),i("cba8")),f=Object(h["a"])(g,o,e,!1,null,"4c5f4c4c",null),v=f.exports,p={components:{musicBox:v},data:function(){return{active:0,layoutShow:!0}},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(r["b"])({LAYOUTSHOW:"statusModule/GET_LAYOUTSHOW"})),Object(r["c"])({LOADING:function(s){return s.statusModule.LOADING},musicBoxShow:function(s){return s.statusModule.musicBoxShow},musicshow:function(s){return s.statusModule.musicshow}})),{},{handleHeight:function(){var s=!0===this.LAYOUTSHOW;return s?"":{transform:"translateY(1.4rem)"}}}),created:function(){},mounted:function(){},methods:{closeMusic:function(){this.$store.commit("statusModule/hidemusicshow")}}},w=p,b=(i("b038"),Object(h["a"])(w,n,a,!1,null,"c8301174",null));t["default"]=b.exports},"1cb8":function(s,t,i){s.exports=i.p+"img/changzhen.76313e64.png"},5375:function(s,t,i){},b038:function(s,t,i){"use strict";i("159f")},cf89:function(s,t,i){"use strict";i("5375")}}]);
//# sourceMappingURL=chunk-51f3af35.d0915d6c.js.map