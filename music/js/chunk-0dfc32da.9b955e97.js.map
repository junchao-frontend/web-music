{"version":3,"sources":["webpack:///./src/views/login/components/mobile.vue?9468","webpack:///./src/views/login/index.vue?1d96","webpack:///./src/views/login/index.vue?bc9e","webpack:///./src/views/login/components/mobile.vue?641b","webpack:///./src/api/login.js","webpack:///src/views/login/components/mobile.vue","webpack:///./src/views/login/components/mobile.vue?d70e","webpack:///./src/views/login/components/mobile.vue","webpack:///./src/views/login/components/password.vue?f3cf","webpack:///src/views/login/components/password.vue","webpack:///./src/views/login/components/password.vue?14ce","webpack:///./src/views/login/components/password.vue","webpack:///src/views/login/index.vue","webpack:///./src/views/login/index.vue?b614","webpack:///./src/views/login/index.vue","webpack:///./src/views/login/components/password.vue?2987"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","mLogin","_v","eLogin","style","width","height","model","value","callback","$$v","mobileShow","expression","emailShow","staticRenderFns","required","message","user","$set","scopedSlots","_u","key","fn","$event","isCountdown","isBtnloading","preventDefault","onSendcode","phone","proxy","toLogin","mlogin","params","request","method","url","sentCode","components","data","password","computed","created","mounted","methods","component","mobile","passWord"],"mappings":"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","file":"js/chunk-0dfc32da.9b955e97.js","sourcesContent":["export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./mobile.vue?vue&type=style&index=0&id=7b921c26&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=61a92db8&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"login-icon\"},[_c('div',{staticClass:\"music-icon\"},[_c('van-icon',{attrs:{\"name\":\"music-o\"}})],1)]),_c('div',{staticClass:\"btn-warp\"},[_c('div',{staticClass:\"mobile\"},[_c('van-button',{attrs:{\"type\":\"default\",\"round\":\"\"},on:{\"click\":_vm.mLogin}},[_vm._v(\"手机号登录\")])],1),_c('div',{staticClass:\"email\"},[_c('van-button',{attrs:{\"type\":\"default\",\"round\":\"\"},on:{\"click\":_vm.eLogin}},[_vm._v(\"账号密码登录\")])],1)]),_c('van-popup',{style:({width: '100%',height:' 100%'}),attrs:{\"get-container\":\"body\",\"closeable\":\"\",\"close-icon\":\"arrow-left\",\"close-icon-position\":\"top-left\",\"position\":\"left\"},model:{value:(_vm.mobileShow),callback:function ($$v) {_vm.mobileShow=$$v},expression:\"mobileShow\"}},[_c('mobile')],1),_c('van-popup',{style:({width: '100%',height:' 100%'}),attrs:{\"get-container\":\"body\",\"closeable\":\"\",\"close-icon\":\"arrow-left\",\"close-icon-position\":\"top-left\",\"position\":\"left\"},model:{value:(_vm.emailShow),callback:function ($$v) {_vm.emailShow=$$v},expression:\"emailShow\"}},[_c('passWord')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mobile-container\"},[_c('p',[_vm._v(\"登录体验更多精彩\")]),_c('van-form',{staticClass:\"login-form\"},[_c('van-field',{attrs:{\"label-align\":\"right\",\"label-width\":\"47px\",\"name\":\"手机号\",\"label\":\"+86\",\"placeholder\":\"手机号\",\"rules\":[{ required: true, message: '请填写手机号' }]},model:{value:(_vm.user.phone),callback:function ($$v) {_vm.$set(_vm.user, \"phone\", $$v)},expression:\"user.phone\"}}),_c('van-field',{attrs:{\"label-width\":\"47px\",\"type\":\"captcha\",\"name\":\"验证码\",\"label\":\"验证码\",\"placeholder\":\"请输入验证码\",\"rules\":[{ required: true, message: '请填写验证码' }]},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [(_vm.isCountdown)?_c('van-count-down',{attrs:{\"time\":1000 * 60,\"format\":\" ss s\"},on:{\"finish\":function($event){_vm.isCountdown = false}}}):_c('van-button',{staticClass:\"send-btn\",attrs:{\"size\":\"small\",\"round\":\"\",\"loading\":_vm.isBtnloading},on:{\"click\":function($event){$event.preventDefault();return _vm.onSendcode(_vm.user.phone)}}},[_vm._v(\"获取验证码\")])]},proxy:true}]),model:{value:(_vm.user.captcha),callback:function ($$v) {_vm.$set(_vm.user, \"captcha\", $$v)},expression:\"user.captcha\"}}),_c('div',{staticClass:\"login-btn\"},[_c('van-button',{attrs:{\"type\":\"danger\",\"round\":\"\"},on:{\"click\":function($event){return _vm.toLogin()}}},[_vm._v(\"登录\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/utils/request'\r\n// 用户手机号登录\r\n/**\r\n *  必选参数 :\r\n    phone: 手机号码\r\n    password: 密码\r\n *  可选参数 :\r\n    countrycode: 国家码，用于国外手机号登录，例如美国传入：1\r\n\r\n    md5_password: md5 加密后的密码,传入后 password 参数将失效\r\n\r\n    captcha: 验证码,使用 /captcha/sent接口传入手机号获取验证码,调用此接口传入验证码,可使用验证码登录,传入后 password 参数将失效\r\n */\r\nexport const mlogin = params => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/login/cellphone',\r\n    // data用来设置POST请求体\r\n    params\r\n  })\r\n}\r\n// 发送验证码\r\nexport const sentCode = params => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/captcha/sent',\r\n    // data用来设置POST请求体\r\n    params\r\n  })\r\n}\r\n// 验证验证码\r\nexport const verifyCode = params => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/captcha/verify',\r\n    // data用来设置POST请求体\r\n    params\r\n  })\r\n}\r\n","<template>\r\n  <div class=\"mobile-container\">\r\n      <p>登录体验更多精彩</p>\r\n    <van-form class=\"login-form\">\r\n      <van-field\r\n      label-align=\"right\"\r\n      label-width=\"47px\"\r\n      v-model=\"user.phone\"\r\n      name=\"手机号\"\r\n      label=\"+86\"\r\n      placeholder=\"手机号\"\r\n      :rules=\"[{ required: true, message: '请填写手机号' }]\"\r\n      ></van-field>\r\n      <van-field\r\n      label-width=\"47px\"\r\n      v-model=\"user.captcha\"\r\n      type=\"captcha\"\r\n      name=\"验证码\"\r\n      label=\"验证码\"\r\n      placeholder=\"请输入验证码\"\r\n      :rules=\"[{ required: true, message: '请填写验证码' }]\"\r\n      >\r\n      <template #button>\r\n      <van-count-down @finish='isCountdown = false' v-if=\"isCountdown\" :time=\"1000 * 60\" format=\" ss s\" />\r\n      <van-button size=\"small\" class=\"send-btn\" v-else round @click.prevent=\"onSendcode(user.phone)\" :loading=\"isBtnloading\">获取验证码</van-button>\r\n      </template>\r\n      </van-field>\r\n    <div class=\"login-btn\">\r\n    <van-button\r\n    @click=\"toLogin()\"\r\n    type=\"danger\"\r\n    round>登录</van-button>\r\n    </div>\r\n</van-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// eslint-disable-next-line no-unused-vars\r\nimport { mlogin, sentCode, verifyCode } from '@/api/login'\r\nexport default {\r\n  components: {},\r\n  data () {\r\n    return {\r\n      isCountdown: false, // 用来显示获取验证码按钮和时间\r\n      isBtnloading: false, // 按钮加载状态\r\n      user: {\r\n        phone: '',\r\n        password: ''\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  created () {},\r\n  mounted () {},\r\n  methods: {\r\n    async toLogin () {\r\n      var params = {\r\n        phone: this.user.phone,\r\n        captcha: this.user.captcha\r\n      }\r\n      const res = await mlogin(params)\r\n      const userInfo = res.data.profile\r\n      console.log(userInfo)\r\n      if (res.data.code === 200) {\r\n        this.$toast.success('登录成功')\r\n        this.$store.commit('userModule/SET_COOKIE', res.data.cookie)\r\n        // this.$store.commit('SET_TOKEN', res.data.token)\r\n        sessionStorage.setItem('id', userInfo.userId)\r\n        sessionStorage.setItem('cookie', res.data.cookie)\r\n        this.$router.push('/')\r\n      } else {\r\n        this.$toast.fail('账号或验证码有误')\r\n      }\r\n    },\r\n    async onSendcode (phone) {\r\n      this.isBtnloading = true\r\n      this.isCountdown = true\r\n      var params = {\r\n        phone: phone\r\n      }\r\n      const res = await sentCode(params)\r\n      this.isBtnloading = false\r\n      console.log(res)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.mobile-container{\r\n  /deep/ .van-field__label{\r\n    color: black;\r\n    display: flex;\r\n    align-items: center;\r\n    text-align: right !important;\r\n  }\r\n    padding-top: 35px;\r\n    .login-btn{\r\n      display: flex;\r\n      justify-content: center;\r\n      width: 300px;\r\n      margin: 30px auto;\r\n    }\r\n    .van-button{\r\n      font-size: 15px;\r\n      width: 200px;\r\n      height: 30px;\r\n    }\r\n    p {\r\n      color: black;\r\n      font-family: Monospace;\r\n      padding-left: 20px;\r\n      font-size: 18px;\r\n      font-weight: bold;\r\n    }\r\n}\r\n.send-btn{\r\nwidth: 78px !important;\r\nheight: 25px;\r\nbackground-color: #ededed;\r\n.van-button__text{\r\n  font-size: 11px;\r\n  color: #666666;\r\n}\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./mobile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./mobile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mobile.vue?vue&type=template&id=7b921c26&scoped=true&\"\nimport script from \"./mobile.vue?vue&type=script&lang=js&\"\nexport * from \"./mobile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mobile.vue?vue&type=style&index=0&id=7b921c26&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b921c26\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"email-container\"},[_c('van-form',{staticClass:\"login-form\"},[_c('van-field',{attrs:{\"label-align\":\"right\",\"label-width\":\"47px\",\"name\":\"手机号\",\"label\":\"手机号\",\"placeholder\":\"手机号\",\"rules\":[{ required: true, message: '请填写手机号' }]},model:{value:(_vm.user.phone),callback:function ($$v) {_vm.$set(_vm.user, \"phone\", $$v)},expression:\"user.phone\"}}),_c('van-field',{attrs:{\"label-width\":\"47px\",\"type\":\"password\",\"name\":\"密码\",\"label\":\"密码\",\"placeholder\":\"请输入密码\",\"rules\":[{ required: true, message: '请填写密码' }]},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", $$v)},expression:\"user.password\"}}),_c('div',{staticClass:\"login-btn\"},[_c('van-button',{attrs:{\"type\":\"danger\",\"round\":\"\"},on:{\"click\":function($event){return _vm.toLogin()}}},[_vm._v(\"登录\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"email-container\">\r\n<van-form class=\"login-form\">\r\n      <van-field\r\n      label-align=\"right\"\r\n      label-width=\"47px\"\r\n      v-model=\"user.phone\"\r\n      name=\"手机号\"\r\n      label=\"手机号\"\r\n      placeholder=\"手机号\"\r\n      :rules=\"[{ required: true, message: '请填写手机号' }]\"\r\n      ></van-field>\r\n      <van-field\r\n      label-width=\"47px\"\r\n      v-model=\"user.password\"\r\n      type=\"password\"\r\n      name=\"密码\"\r\n      label=\"密码\"\r\n      placeholder=\"请输入密码\"\r\n      :rules=\"[{ required: true, message: '请填写密码' }]\"\r\n      >\r\n      </van-field>\r\n    <div class=\"login-btn\">\r\n    <van-button\r\n    @click=\"toLogin()\"\r\n    type=\"danger\"\r\n    round>登录</van-button>\r\n    </div>\r\n</van-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mlogin } from '@/api/login'\r\nexport default {\r\n  components: {},\r\n  data () {\r\n    return {\r\n      user: {\r\n        phone: '',\r\n        password: ''\r\n      }\r\n    }\r\n  },\r\n  computed: {},\r\n  created () {},\r\n  mounted () {},\r\n  methods: {\r\n    async toLogin () {\r\n      var params = {\r\n        phone: this.user.phone,\r\n        password: this.user.password\r\n      }\r\n      const res = await mlogin(params)\r\n      const userInfo = res.data.profile\r\n      if (res.data.code === 200) {\r\n        this.$toast.success('登录成功')\r\n        this.$store.commit('userModule/SET_COOKIE', res.data.cookie)\r\n        sessionStorage.setItem('id', userInfo.userId)\r\n        sessionStorage.setItem('cookie', res.data.cookie)\r\n        this.$router.push('/')\r\n      } else {\r\n        this.$toast.fail('账号或密码有误')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.email-container{\r\n    padding-top: 45px;\r\n  /deep/ .van-field__label{\r\n    color: black;\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n    .login-btn{\r\n      display: flex;\r\n      justify-content: center;\r\n      width: 300px;\r\n      margin: 30px auto;\r\n    }\r\n    .van-button{\r\n      font-size: 15px;\r\n      width: 200px;\r\n      height: 30px;\r\n    }\r\n    p {\r\n      color: black;\r\n      font-family: Monospace;\r\n      padding-left: 20px;\r\n      font-size: 18px;\r\n      font-weight: bold;\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./password.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./password.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./password.vue?vue&type=template&id=65abedcc&scoped=true&\"\nimport script from \"./password.vue?vue&type=script&lang=js&\"\nexport * from \"./password.vue?vue&type=script&lang=js&\"\nimport style0 from \"./password.vue?vue&type=style&index=0&id=65abedcc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65abedcc\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"container\">\r\n      <div class=\"login-icon\">\r\n        <div class=\"music-icon\">\r\n          <van-icon name=\"music-o\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"btn-warp\">\r\n        <div class=\"mobile\">\r\n          <van-button\r\n          @click=\"mLogin\"\r\n          type=\"default\"\r\n          round>手机号登录</van-button>\r\n        </div>\r\n        <div class=\"email\">\r\n          <van-button\r\n          @click=\"eLogin\"\r\n          type=\"default\"\r\n          round>账号密码登录</van-button>\r\n        </div>\r\n      </div>\r\n      <van-popup\r\n      get-container=\"body\"\r\n      closeable\r\n      close-icon=\"arrow-left\"\r\n      close-icon-position=\"top-left\"\r\n      v-model=\"mobileShow\"\r\n      position=\"left\"\r\n      :style=\"{width: '100%',height:' 100%'}\">\r\n      <mobile />\r\n      </van-popup>\r\n      <van-popup\r\n      get-container=\"body\"\r\n      closeable\r\n      close-icon=\"arrow-left\"\r\n      close-icon-position=\"top-left\"\r\n      v-model=\"emailShow\"\r\n      position=\"left\"\r\n      :style=\"{width: '100%',height:' 100%'}\">\r\n      <passWord />\r\n      </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport mobile from './components/mobile.vue'\r\nimport passWord from './components/password.vue'\r\nexport default {\r\n  components: {\r\n    mobile,\r\n    passWord\r\n  },\r\n  data () {\r\n    return {\r\n      mobileShow: false,\r\n      emailShow: false\r\n    }\r\n  },\r\n  computed: {},\r\n  created () {},\r\n  mounted () {},\r\n  methods: {\r\n    mLogin () {\r\n      this.mobileShow = true\r\n    },\r\n    eLogin () {\r\n      this.emailShow = true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n.container{\r\n  position: relative;\r\n  height: 100%;\r\n  background-color: #c93d2d;\r\n  .login-icon{\r\n    position: absolute;\r\n    top: 30%;\r\n    left: 50%;\r\n    margin-left: -35px;\r\n    border-radius: 50%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 70px;\r\n    height: 70px;\r\n    background-color: #de4033;\r\n    .music-icon{\r\n      font-size: 44px;\r\n      color: white;\r\n    }\r\n  }\r\n  .btn-warp{\r\n    position: absolute;\r\n    left: 87px;\r\n    bottom: 150px;\r\n    .mobile{\r\n      margin-bottom: 20px;\r\n      .van-button{\r\n        font-size: 15px;\r\n        height: 35px;\r\n        width: 200px;\r\n        color: #eb3723;\r\n        background-color: #fff;\r\n      }\r\n    }\r\n    .email{\r\n      .van-button{\r\n        font-size: 15px;\r\n        height: 35px;\r\n        width: 200px;\r\n        color: #eb3723;\r\n        background-color: #fff;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=61a92db8&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=61a92db8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61a92db8\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./password.vue?vue&type=style&index=0&id=65abedcc&lang=scss&scoped=true&\""],"sourceRoot":""}